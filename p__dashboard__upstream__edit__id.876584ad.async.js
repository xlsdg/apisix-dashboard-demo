(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[27],{"/WyT":function(e,a,t){"use strict";var r=t("q1tI"),n=t.n(r),l=t("TSYQ"),o=t.n(l),s=t("vW3X"),c=t.n(s);function i(e){var a=e.className,t=e.children;return n.a.createElement("div",{className:o()(c.a.container,a)},t)}i.defaultProps={},a["a"]=n.a.memo(i)},"/ezw":function(e,a,t){"use strict";var r=t("q1tI"),n=t("TSYQ"),l=t.n(n);function o(){return o=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},o.apply(this,arguments)}var s=function(e){var a=e.prefixCls,t=e.className,n=e.width,s=e.style;return r["createElement"]("h3",{className:l()(a,t),style:o({width:n},s)})},c=s;function i(e){return p(e)||d(e)||m(e)||u()}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e,a){if(e){if("string"===typeof e)return f(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?f(e,a):void 0}}function d(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function p(e){if(Array.isArray(e))return f(e)}function f(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,r=new Array(a);t<a;t++)r[t]=e[t];return r}var b=function(e){var a=function(a){var t=e.width,r=e.rows,n=void 0===r?2:r;return Array.isArray(t)?t[a]:n-1===a?t:void 0},t=e.prefixCls,n=e.className,o=e.style,s=e.rows,c=i(Array(s)).map((function(e,t){return r["createElement"]("li",{key:t,style:{width:a(t)}})}));return r["createElement"]("ul",{className:l()(t,n),style:o},c)},h=b,v=t("H84U");function y(){return y=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},y.apply(this,arguments)}function g(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}var k=function(e){var a,t,n=e.prefixCls,o=e.className,s=e.style,c=e.size,i=e.shape,u=l()((a={},g(a,"".concat(n,"-lg"),"large"===c),g(a,"".concat(n,"-sm"),"small"===c),a)),m=l()((t={},g(t,"".concat(n,"-circle"),"circle"===i),g(t,"".concat(n,"-square"),"square"===i),g(t,"".concat(n,"-round"),"round"===i),t)),d="number"===typeof c?{width:c,height:c,lineHeight:"".concat(c,"px")}:{};return r["createElement"]("span",{className:l()(n,o,u,m),style:y(y({},d),s)})},E=k,O=t("BGR+");function j(){return j=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},j.apply(this,arguments)}function w(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}var N=function(e){var a=function(a){var t=a.getPrefixCls,n=e.prefixCls,o=e.className,s=e.active,c=t("skeleton",n),i=Object(O["a"])(e,["prefixCls"]),u=l()(c,o,"".concat(c,"-element"),w({},"".concat(c,"-active"),s));return r["createElement"]("div",{className:u},r["createElement"](E,j({prefixCls:"".concat(c,"-avatar")},i)))};return r["createElement"](v["a"],null,a)};N.defaultProps={size:"default",shape:"circle"};var x=N;function C(){return C=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},C.apply(this,arguments)}function q(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}var I=function(e){var a=function(a){var t=a.getPrefixCls,n=e.prefixCls,o=e.className,s=e.active,c=t("skeleton",n),i=Object(O["a"])(e,["prefixCls"]),u=l()(c,o,"".concat(c,"-element"),q({},"".concat(c,"-active"),s));return r["createElement"]("div",{className:u},r["createElement"](E,C({prefixCls:"".concat(c,"-button")},i)))};return r["createElement"](v["a"],null,a)};I.defaultProps={size:"default"};var P=I;function S(){return S=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},S.apply(this,arguments)}function A(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}var T=function(e){var a=function(a){var t=a.getPrefixCls,n=e.prefixCls,o=e.className,s=e.active,c=t("skeleton",n),i=Object(O["a"])(e,["prefixCls"]),u=l()(c,o,"".concat(c,"-element"),A({},"".concat(c,"-active"),s));return r["createElement"]("div",{className:u},r["createElement"](E,S({prefixCls:"".concat(c,"-input")},i)))};return r["createElement"](v["a"],null,a)};T.defaultProps={size:"default"};var z=T;function M(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function W(){return W=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},W.apply(this,arguments)}function K(e){return K="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K(e)}function R(e){return e&&"object"===K(e)?e:{}}function X(e,a){return e&&!a?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function Z(e,a){return!e&&a?{width:"38%"}:e&&a?{width:"50%"}:{}}function _(e,a){var t={};return e&&a||(t.width="61%"),t.rows=!e&&a?3:2,t}var F=function(e){var a=function(a){var t=a.getPrefixCls,n=a.direction,o=e.prefixCls,s=e.loading,i=e.className,u=e.children,m=e.avatar,d=e.title,p=e.paragraph,f=e.active,b=t("skeleton",o);if(s||!("loading"in e)){var v,y,g,k=!!m,O=!!d,j=!!p;if(k){var w=W(W({prefixCls:"".concat(b,"-avatar")},X(O,j)),R(m));y=r["createElement"]("div",{className:"".concat(b,"-header")},r["createElement"](E,w))}if(O||j){var N,x;if(O){var C=W(W({prefixCls:"".concat(b,"-title")},Z(k,j)),R(d));N=r["createElement"](c,C)}if(j){var q=W(W({prefixCls:"".concat(b,"-paragraph")},_(k,O)),R(p));x=r["createElement"](h,q)}g=r["createElement"]("div",{className:"".concat(b,"-content")},N,x)}var I=l()(b,i,(v={},M(v,"".concat(b,"-with-avatar"),k),M(v,"".concat(b,"-active"),f),M(v,"".concat(b,"-rtl"),"rtl"===n),v));return r["createElement"]("div",{className:I},y,g)}return u};return r["createElement"](v["a"],null,a)};F.defaultProps={avatar:!1,title:!0,paragraph:!0},F.Button=P,F.Avatar=x,F.Input=z;var V=F;a["a"]=V},SQgF:function(e,a,t){"use strict";var r=t("q1tI"),n=t.n(r),l=t("TSYQ"),o=t.n(l),s=t("sXlP"),c=t.n(s);function i(e){var a=e.className,t=e.left,r=e.right;return n.a.createElement("div",{className:o()(c.a.container,a)},n.a.createElement("div",{className:c.a.left},t),n.a.createElement("div",{className:c.a.right},r))}i.defaultProps={},a["a"]=n.a.memo(i)},W91k:function(e,a,t){"use strict";var r=t("k1fw"),n=(t("miYZ"),t("tsqr")),l=(t("+L6B"),t("2/Rp")),o=(t("giR+"),t("fyUT")),s=t("WmNS"),c=t.n(s),i=t("9og8"),u=(t("2qtc"),t("kLXV")),m=(t("BoS7"),t("Sdc0")),d=(t("OaEy"),t("2fM7")),p=(t("y8nQ"),t("Vl3Y")),f=t("0Owb"),b=(t("5NDa"),t("5rEg")),h=t("3WF5"),v=t.n(h),y=t("xaJk"),g=t.n(y),k=t("q1tI"),E=t.n(k),O=t("TSYQ"),j=t.n(O),w=t("9kvl"),N=t("RCxd"),x=t("wlus"),C=t("xvlK"),q=t("Rt6h"),I=t("yWgo"),P=t("vabO"),S=t.n(P),A=E.a.memo(e=>{var a=Object(w["e"])(),t=a.formatMessage,r={label:t({id:"dashboard.upstream.form.description"}),name:"description"};return E.a.createElement(p["a"].Item,Object(f["a"])({className:S.a.description},r),E.a.createElement(b["a"],{className:S.a.input,placeholder:t({id:"dashboard.upstream.form.description.placeholder"})}))}),T=E.a.memo(e=>{var a=Object(w["e"])(),t=a.formatMessage,r=E.a.useMemo(()=>[{required:!0,message:t({id:"dashboard.upstream.form.type.required"})}],[t]),n={label:t({id:"dashboard.upstream.form.type"}),name:"type",rules:r},l=E.a.useMemo(()=>g()(q["a"],(e,a,t)=>(e.push(E.a.createElement(d["a"].Option,{key:t,value:t,title:a.name},a.name)),e),[]),[]);return E.a.createElement(p["a"].Item,Object(f["a"])({className:S.a.type},n),E.a.createElement(d["a"],{className:S.a.select,placeholder:t({id:"dashboard.upstream.form.type.placeholder"})},l))}),z=E.a.memo(e=>{var a=Object(w["e"])(),t=a.formatMessage,r=E.a.useCallback((e,a)=>e.type!==a.type,[]),n=E.a.useCallback(e=>{var a=e.getFieldValue("type");if(!Object(I["g"])(a))return null;var r=[{required:!0,message:t({id:"dashboard.upstream.form.hash.on.required"})}],n={label:t({id:"dashboard.upstream.form.hash.on"}),name:[a,"hashOn"],rules:r},l=g()(Object(I["c"])(q["a"],"".concat(a,".props.hashOn.items"),[]),(e,a)=>(e.push(E.a.createElement(d["a"].Option,{key:a.value,value:a.value,title:a.name},a.name)),e),[]);return Object(I["d"])(l)?E.a.createElement(p["a"].Item,Object(f["a"])({className:S.a.hashOn},n),E.a.createElement(d["a"],{className:S.a.select,placeholder:t({id:"dashboard.upstream.form.hash.on.placeholder"})},l)):null},[t]);return E.a.createElement(p["a"].Item,{noStyle:!0,shouldUpdate:r},n)}),M=E.a.memo(e=>{var a=Object(w["e"])(),t=a.formatMessage,r=E.a.useCallback((e,a)=>e.type!==a.type,[]),n=E.a.useCallback(e=>{var a=e.getFieldValue("type");if(!Object(I["g"])(a))return null;var r=[{required:!0,message:t({id:"dashboard.upstream.form.hash.key.required"})}],n={label:t({id:"dashboard.upstream.form.hash.key"}),name:[a,"hashKey"],rules:r},l=g()(Object(I["c"])(q["a"],"".concat(a,".props.hashKey.items"),[]),(e,a)=>(e.push(E.a.createElement(d["a"].Option,{key:a.value,value:a.value,title:a.name},a.name)),e),[]);return Object(I["d"])(l)?E.a.createElement(p["a"].Item,Object(f["a"])({className:S.a.hashKey},n),E.a.createElement(d["a"],{className:S.a.select,placeholder:t({id:"dashboard.upstream.form.hash.key.placeholder"})},l)):null},[t]);return E.a.createElement(p["a"].Item,{noStyle:!0,shouldUpdate:r},n)}),W=E.a.memo(e=>{var a=Object(w["e"])(),t=a.formatMessage,r={label:t({id:"dashboard.upstream.form.websocket"}),name:"websocket",valuePropName:"checked"};return E.a.createElement(p["a"].Item,Object(f["a"])({className:S.a.websocket},r),E.a.createElement(m["a"],null))}),K=E.a.memo(e=>{var a=e.onClick,t=Object(w["e"])(),r=t.formatMessage,n=E.a.useCallback(()=>u["a"].confirm({title:r({id:"dashboard.upstream.form.nodes.delete.title"}),icon:E.a.createElement(N["a"],null),content:r({id:"dashboard.upstream.form.nodes.delete.content"}),okText:r({id:"dashboard.upstream.form.nodes.delete.ok"}),okType:"danger",cancelText:r({id:"dashboard.upstream.form.nodes.delete.cancel"}),onOk:a}),[r,a]);return E.a.createElement(x["a"],{className:S.a.remove,onClick:n})}),R=E.a.memo(e=>{var a=Object(w["e"])(),t=a.formatMessage,r=(e,a)=>{var r=v()(e,(r,n)=>{var l=[{required:!0,message:t({id:"dashboard.upstream.form.nodes.host.required"})},{validator:function(){var e=Object(i["a"])(c.a.mark((function e(a,r){return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/.test(r)){e.next=4;break}return e.abrupt("return");case 4:if(!/^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9\-]*[A-Za-z0-9])$/.test(r)){e.next=8;break}return e.abrupt("return");case 8:throw new Error(t({id:"dashboard.upstream.form.nodes.host.required"}));case 9:case"end":return e.stop()}}),e)})));function a(a,t){return e.apply(this,arguments)}return a}()}],s={fieldKey:[r.fieldKey,"host"],name:[r.name,"host"],rules:l,validateFirst:!0},u=[{required:!0,message:t({id:"dashboard.upstream.form.nodes.port.required"})}],m={fieldKey:[r.fieldKey,"port"],name:[r.name,"port"],rules:u},d=[{required:!0,message:t({id:"dashboard.upstream.form.nodes.weights.required"})}],h={fieldKey:[r.fieldKey,"weights"],name:[r.name,"weights"],rules:d},v=E.a.createElement(K,{onClick:()=>a.remove(r.name)});return E.a.createElement(p["a"].Item,{key:r.key,className:S.a.node,label:"".concat(t({id:"dashboard.upstream.form.nodes.node"})," ").concat(n+1)},E.a.createElement("div",{className:S.a.row},E.a.createElement(p["a"].Item,Object(f["a"])({className:S.a.host},s),E.a.createElement(b["a"],{placeholder:t({id:"dashboard.upstream.form.nodes.host.placeholder"})})),E.a.createElement(p["a"].Item,Object(f["a"])({className:S.a.port},m),E.a.createElement(o["a"],{min:0,max:65535,placeholder:t({id:"dashboard.upstream.form.nodes.port.placeholder"})})),E.a.createElement(p["a"].Item,Object(f["a"])({className:S.a.weights},h),E.a.createElement(o["a"],{min:0,placeholder:t({id:"dashboard.upstream.form.nodes.weights.placeholder"})})),e.length>1?v:null))}),n={};return E.a.createElement(E.a.Fragment,null,r,E.a.createElement(p["a"].Item,Object(f["a"])({className:S.a.add},n),E.a.createElement(l["a"],{className:S.a.button,type:"dashed",onClick:()=>a.add()},E.a.createElement(C["a"],null),t({id:"dashboard.upstream.form.nodes.add"}))))};return E.a.createElement(p["a"].List,{name:"nodes"},r)}),X=E.a.memo(e=>{var a=e.loading,t=Object(w["e"])(),r=t.formatMessage,n=E.a.useCallback(()=>w["b"].push("/dashboard/upstream"),[]),o={};return E.a.createElement(p["a"].Item,Object(f["a"])({className:S.a.submit},o),E.a.createElement(l["a"],{className:S.a.button,htmlType:"submit",type:"primary",loading:a},r({id:"dashboard.upstream.form.submit"})),E.a.createElement(l["a"],{className:S.a.button,htmlType:"button",onClick:n},r({id:"dashboard.upstream.form.cancel"})))}),Z=E.a.memo(e=>{var a=e.className,t=e.loading,l=e.record,o=e.onSubmit,s=Object(w["e"])(),c=s.formatMessage,i=E.a.useCallback(e=>Object(I["d"])(e.nodes)?o(Object(r["a"])({key:l.key},e)).then(()=>n["a"].success(c({id:"dashboard.upstream.form.".concat(Object(I["g"])(l.key)?"edit":"add",".success")}))):n["a"].error(c({id:"dashboard.upstream.form.nodes.node.required"})),[c,o,l.key]),u={initialValues:l,layout:"vertical",onFinish:i};return E.a.createElement(p["a"],Object(f["a"])({className:j()(S.a.container,a)},u),E.a.createElement(A,null),E.a.createElement(T,null),E.a.createElement(z,null),E.a.createElement(M,null),E.a.createElement(W,null),E.a.createElement(R,null),E.a.createElement(X,{loading:t}))});Z.defaultProps={record:{}},a["a"]=Z},cWXX:function(e,a,t){"use strict";t("cIOH"),t("oIFs")},nyTm:function(e,a,t){e.exports={container:"_3YfYqg_C",form:"_34UvpO0P"}},oIFs:function(e,a,t){e.exports={"ant-skeleton":"ant-skeleton","ant-skeleton-header":"ant-skeleton-header","ant-skeleton-avatar":"ant-skeleton-avatar","ant-skeleton-avatar-circle":"ant-skeleton-avatar-circle","ant-skeleton-avatar-lg":"ant-skeleton-avatar-lg","ant-skeleton-avatar-sm":"ant-skeleton-avatar-sm","ant-skeleton-content":"ant-skeleton-content","ant-skeleton-title":"ant-skeleton-title","ant-skeleton-paragraph":"ant-skeleton-paragraph","ant-skeleton-with-avatar":"ant-skeleton-with-avatar","ant-skeleton-active":"ant-skeleton-active","ant-skeleton-loading":"ant-skeleton-loading","ant-skeleton-button":"ant-skeleton-button","ant-skeleton-input":"ant-skeleton-input","ant-skeleton-element":"ant-skeleton-element","ant-skeleton-button-circle":"ant-skeleton-button-circle","ant-skeleton-button-round":"ant-skeleton-button-round","ant-skeleton-button-lg":"ant-skeleton-button-lg","ant-skeleton-button-sm":"ant-skeleton-button-sm","ant-skeleton-input-lg":"ant-skeleton-input-lg","ant-skeleton-input-sm":"ant-skeleton-input-sm","ant-skeleton-rtl":"ant-skeleton-rtl","ant-skeleton-loading-rtl":"ant-skeleton-loading-rtl"}},sXlP:function(e,a,t){e.exports={container:"_1ymes307"}},saUi:function(e,a,t){"use strict";t.r(a);var r=t("k1fw"),n=t("tJVT"),l=(t("cWXX"),t("/ezw")),o=(t("sPJy"),t("bE4q")),s=t("q1tI"),c=t.n(s),i=t("9kvl"),u=t("uqfK"),m=t("/WyT"),d=t("SQgF"),p=t("W91k"),f=t("lcnJ"),b=t("nyTm"),h=t.n(b),v=c.a.memo(e=>{var a=Object(i["e"])(),t=a.formatMessage,r=c.a.createElement(o["a"],null,c.a.createElement(o["a"].Item,{href:"/dashboard"},c.a.createElement(u["a"],null)),c.a.createElement(o["a"].Item,{href:"/dashboard/upstream"},t({id:"dashboard.upstream.menu"})),c.a.createElement(o["a"].Item,null,t({id:"dashboard.upstream.edit"}))),n=null;return c.a.createElement(d["a"],{left:r,right:n})});function y(e){var a=e.loading,t=e.state,r=e.editRecord;return c.a.createElement("div",{className:h.a.container},c.a.createElement(m["a"],null,c.a.createElement(v,null),a["getRecord"]?c.a.createElement(l["a"],{className:h.a.form,active:!0}):c.a.createElement(p["a"],{className:h.a.form,loading:a["editRecord"],record:t.record,onSubmit:r})))}y.defaultProps={};var g=Object(f["b"])(),k=Object(n["a"])(g,2),E=k[0],O=k[1],j=Object(f["a"])(["editRecord","getRecord"]),w=Object(n["a"])(j,2),N=w[0],x=w[1];function C(e,a){return{state:E(e),loading:x(e.loading)}}function q(e,a){return Object(r["a"])({setState:O(e)},N(e))}function I(e,a,t){return Object(r["a"])(Object(r["a"])({},e),a)}var P=Object(i["a"])(C,q,I)(c.a.memo(y));P.title="dashboard.upstream.title",a["default"]=P},vW3X:function(e,a,t){e.exports={container:"_3SHyxdJu"}},vabO:function(e,a,t){e.exports={container:"_2ZV7WMp7",node:"_2krVaOWr",row:"_1NXhHZbt",host:"_3leBNRsX",port:"_3fFssNz2",weights:"UHaseRxp",remove:"_1ZtTcqab",submit:"_1M518Kea",button:"bYGJfTXV"}}}]);